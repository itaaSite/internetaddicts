import{exec as e}from"child_process";import{deepmerge as f}from"deepmerge-ts";import{build as n}from"esbuild";import p from"fast-glob";import l from"../config/esbuild.js";import{importFile as m}from"../lib/utils.js";var w=async(s,t)=>{const i=[];for(const o of s)for(const c of await p(o.replaceAll("'","").replaceAll('"',"")))i.push(c.toString());const r=f(l,{entryPoints:Object.fromEntries(i.map(o=>[o.replace("src/","").split(".").slice(0,-1).join("."),o]))});await n(t?.config?f(r,await m(t.config)):r),t?.tsconfig?e(`tsc -p ${t?.tsconfig}`):e("tsc")};export{w as default};
