import{ac as v,ad as c,a6 as y,ae as l,af as _,ag as b,ah as u,ai as E,o as p,aj as S,ak as B}from"./render.-uLDKo0a.js";const O="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(O);v();function A(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function I(e){c===null&&A(),y&&c.l!==null?x(c).m.push(e):l(()=>{const t=_(e);if(typeof t=="function")return t})}function x(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}function M(e=!1){const t=c,n=t.l.u;if(!n)return;let r=()=>S(t.s);if(e){let s=0,o={};const h=B(()=>{let f=!1;const i=t.s;for(const a in i)i[a]!==o[a]&&(o[a]=i[a],f=!0);return f&&s++,s});r=()=>p(h)}n.b.length&&b(()=>{g(t,r),u(n.b)}),l(()=>{const s=_(()=>n.m.map(E));return()=>{for(const o of s)typeof o=="function"&&o()}}),n.a.length&&l(()=>{g(t,r),u(n.a)})}function g(e,t){if(e.l.s)for(const n of e.l.s)p(n);t()}const m="aiz:post-bookmarks",K="aiz:bookmarks-changed",k=()=>typeof window<"u",w=()=>{if(!k())return[];try{const e=localStorage.getItem(m);if(!e)return[];const t=JSON.parse(e);return Array.isArray(t)?t.filter(n=>n&&typeof n.slug=="string"):[]}catch{return[]}},d=e=>{k()&&(localStorage.setItem(m,JSON.stringify(e)),window.dispatchEvent(new CustomEvent(K,{detail:{count:e.length}})))},R=e=>w().some(t=>t.slug===e),z=e=>{const t=w();if(t.some(s=>s.slug===e.slug)){const s=t.filter(o=>o.slug!==e.slug);return d(s),{active:!1,count:s.length}}const r=[{...e,updatedAt:Date.now()},...t.filter(s=>s.slug!==e.slug)];return d(r),{active:!0,count:r.length}};export{R as a,M as i,I as o,w as r,z as t};
