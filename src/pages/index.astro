---
import { getCollection } from 'astro:content'
import AIZinfosvg from '../components/AIZinfosvg.astro'
import AIZsvg from '../components/AIZsvg.astro'
import CTA from '../components/CTA.astro'
import BlockMsgs from '../components/blocks/BlockMsgs.astro'
import Title from '../components/blocks/Title.astro'
import Layout from '../layout/Layout.astro'

const links = [
  // { name: 'üéà –ü–æ—Å—Ç—ã', link: '/posts', showPostCount: true },
  { name: '–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –Ω–∞–º', link: 'https://t.me/aiz_itta', styleWow: true },
  { name: '–ò–Ω—Ñ–æ–∫–∞–Ω–∞–ª', link: 'https://t.me/aiz_info', styleInfo: true },
  // { name: 'üíé –ò—Å—Ç–æ—Ä–∏–∏', link: '/stories', showPostCountStory: true },
]

// const showPostCountLength = (await getCollection('posts')).length
// const showPostCountLengthStory = (await getCollection('story')).length
---

<Layout
  title="–ê–Ω–æ–Ω–∏–º–Ω—ã–µ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –ó–∞–≤–∏—Å–∏–º—ã–µ - –°–ù–ì"
  desc="–≠—Ç–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ –ª—é–¥–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –≤ –ø—Ä–µ–æ–¥–æ–ª–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º, –≤—ã–∑–≤–∞–Ω–Ω—ã—Ö –æ–¥–µ—Ä–∂–∏–º—ã–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤."
>
  <div class="flex flex-col gap-20">
    <Title />

    <nav
      class="bg-white md:flex-row flex-col rounded-xl p-2 gap-2 flex items-center max-w-4xl mx-auto"
    >
      {
        links.map((item) => (
          <a
            href={item.link}
            class={`${
              item.styleWow
                ? 'flex gap-2 py-2 px-3 rounded-lg bg-gradient-to-r from-green-400 to-emerald-400 text-white font-bold tracking-wide'
                : 'py-2 px-3 rounded-lg bg-gray-50 ring-1 ring-gray-100 hover:bg-gray-100 transition-colors ease-linear font-medium text-center self-stretch ' +
                  (item.styleInfo
                    ? 'flex item gap-2 py-2 px-3 rounded-lg bg-gradient-to-tr from-purple-400 to-indigo-500 text-white font-bold tracking-wide justify-center'
                    : null)
            }  `}
          >
            {item.styleWow ? <AIZsvg /> : null} {item.styleInfo ? <AIZinfosvg /> : null}{' '}
            {item.name} 
            </a>
            ))
          }
          <!-- {item.showPostCount ? ` (${showPostCountLength})` : null}
          {item.showPostCountStory ? ` (${showPostCountLengthStory})` : null} -->
    </nav>

    <CTA />

    <BlockMsgs />
  </div>
</Layout>
