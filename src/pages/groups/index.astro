---
import Group from '../../components/blocks/Group.astro'
import Layout from '../../layout/Layout.astro'

const live_link =
  'https://2gis.ru/moscow/inside/4504235282805560?utm_referrer=https%3a%2f%2finternetaddicts.ru%2f&fa821dba_ipp_key=v1675869408712%2Fv33947245ba5adc7a72e273%2FDlq34nnVp7DCeNv8PWdapQ%3d%3d&fa821dba_ipp_uid=1671181696020%2fCdsnCwQhLNuooU3x%2fg2jA6oWiM3uYDU%2fEIUuClg%3d%3d'
const online_link = 'https://t.me/aiz_itta'

//  interface Props {
//   frontmatter: {
//     name: string
//     description: string
//     date: string
//     type: string
//     link: string
//   }
// }
// const {
//   frontmatter: { name, description, date, type, link },
// } = Astro.props
const groups = await Astro.glob('./*')
---

<Layout
  title="–û–Ω–ª–∞–π–Ω —Å–æ–±—Ä–∞–Ω–∏—è –∏ –û—Ñ–ª–∞–π–Ω"
  desc="–í—Ä–µ–º—è –≤—Å—Ç—Ä–µ—á –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º—ã—Ö, —à–¥–µ –¥–µ–ª—è—Ç—å—Å—è –æ–ø—ã—Ç–æ–º, —Å–∏–ª–∞–º–∏ –∏ –Ω–∞–¥–µ–∂–¥–æ–π."
>
  <section class="groups">
    <div class="container">
      <!-- <div class="grid">
        <Group
          type_group="–û–Ω–ª–∞–π–Ω-—Å–æ–±—Ä–∞–Ω–∏–µ"
          day="–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫"
          time="‚åö 13:00"
          desc="–í–µ–¥—É—â–∞—è: –ü–æ–ª–∏–Ω–∞"
          link={online_link}
        />
        <Group
          type_group="–û–Ω–ª–∞–π–Ω-—Å–æ–±—Ä–∞–Ω–∏–µ"
          day="–í—Ç–æ—Ä–Ω–∏–∫"
          time="‚åö 20:00"
          desc="–≤—ã—Å–∫–∞–∑—ã–≤–∞–µ–º—Å—è –ø–æ –∫—Ä—É–≥—É, –ø–æ —Ç–µ–º–∞–º, –ø–æ 4-6 –º–∏–Ω—É—Ç."
          link="https://t.me/+SDRtlysnh_9kNDE9"
        />
        <Group
          type_group="–û–Ω–ª–∞–π–Ω-—Å–æ–±—Ä–∞–Ω–∏–µ"
          day="–°—Ä–µ–¥–∞"
          time="‚åö 20:00"
          desc="–í–µ–¥—É—â–∏–π: –°–µ—Ä–≥–µ–π"
          link={online_link}
        />

        <Group
          type_group="–ñ–∏–≤–æ–µ —Å–æ–±—Ä–∞–Ω–∏–µ"
          type_group_class="group-live"
          day="–°—Ä–µ–¥–∞"
          point="üìç –≥. –ú–æ—Å–∫–≤–∞"
          time="12:00"
          desc="–®–∞–≥–∏"
          link={live_link}
        />
        <Group
          type_group="–ñ–∏–≤–æ–µ —Å–æ–±—Ä–∞–Ω–∏–µ"
          type_group_class="group-live"
          day="–°—É–±–±–æ—Ç–∞"
          point="üìç–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –ö–æ–ª–ø–∏–Ω—Å–∫–∞—è —É–ª, –¥.27-29 (–º–µ—Ç—Ä–æ –ß–∫–∞–ª–æ–≤—Å–∫–∞—è)"
          time="12:00"
          desc="(—á–∞—Ç –≥—Ä—É–ø–ø—ã: https://t.me/itaa_spb)"
          link="https://t.me/itaa_spb)"
        />
        <Group
          type_group="–û–Ω–ª–∞–π–Ω-—Å–æ–±—Ä–∞–Ω–∏–µ"
          day="–ß–µ—Ç–≤–µ—Ä–≥"
          time="‚åö 20:00"
          desc="–≤—ã—Å–∫–∞–∑—ã–≤–∞–µ–º—Å—è –ø–æ –∫—Ä—É–≥—É, –ø–æ —Ç–µ–º–∞–º, –ø–æ 4-6 –º–∏–Ω—É—Ç."
          link={online_link}
        />
        <Group
          type_group="–û–Ω–ª–∞–π–Ω-—Å–æ–±—Ä–∞–Ω–∏–µ"
          day="–ü—è—Ç–Ω–∏—Ü–∞"
          time="‚åö 20:00"
          desc="–≤—ã—Å–∫–∞–∑—ã–≤–∞–µ–º—Å—è –ø–æ –∫—Ä—É–≥—É, –ø–æ —Ç–µ–º–∞–º, –ø–æ 4-6 –º–∏–Ω—É—Ç."
          link={online_link}
        />
        <Group
          type_group="–ñ–∏–≤–æ–µ —Å–æ–±—Ä–∞–Ω–∏–µ"
          type_group_class="group-live"
          day="–°—É–±–±–æ—Ç–∞"
          time="18:00"
          point="üìç –≥. –ú–æ—Å–∫–≤–∞"
          desc="–®–∞–≥–∏"
          link={live_link}
        />
      </div> -->
      <div class="grid">
        {
          groups.map((group) => (
            <div class="p-4 bg-gray-50 rounded-lg ring-1 ring-gray-200">
              <div class="flex flex-col gap-3">
                <div class="flex items-center justify-between gap-2 flex-wrap">
                  <h4 class="font-bold text-lg">{group.frontmatter.name}</h4>
                  {group.frontmatter.type === '–û–Ω–ª–∞–π–Ω' ? (
                    <span class="bg-green-100 ring-1 ring-green-200 px-2 py-1 rounded-md">
                      üåê {group.frontmatter.type}
                    </span>
                  ) : (
                    <span class="bg-sky-100 ring-1 ring-sky-200 px-2 py-1 rounded-md">
                      üå§ {group.frontmatter.type}
                    </span>
                  )}
                </div>
                <time class="font-medium" datetime={group.frontmatter.date}>
                  ‚åö
                  <span class="underline underline-offset-4">
                    {group.frontmatter.date}
                  </span>
                </time>
                <p>{group.frontmatter.description}</p>
                {group.frontmatter.type === '–û–Ω–ª–∞–π–Ω' ? (
                  <a
                    href={group.frontmatter.link}
                    class="text-center py-1 px-2 rounded-md bg-blue-500 text-white hover:bg-blue-700"
                  >
                    –í–æ–π—Ç–∏
                  </a>
                ) : (
                  <a
                    href={group.frontmatter.link}
                    class="text-center py-1 px-2 rounded-md bg-purple-500 text-white hover:bg-purple-700"
                  >
                    –ù–∞ –∫–∞—Ä—Ç–µ
                  </a>
                )}
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </section>
</Layout>

<style>
  .grid {
    padding: 30px;
    align-items: start;
    border-radius: var(--border-large);
    background-color: var(--white);
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
  }
  @media (max-width: 992px) {
    .grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
  @media (max-width: 768px) {
    .grid {
      grid-template-columns: repeat(1, 1fr);
    }
    .grid {
      margin: 0 -20px 0;
    }
  }
</style>
